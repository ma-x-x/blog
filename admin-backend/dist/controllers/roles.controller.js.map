{"version":3,"sources":["../../src/controllers/roles.controller.ts"],"sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport { CreateRoleDto } from '@dtos/roles.dto';\nimport { Role } from '@interfaces/roles.interface';\nimport roleService from '@services/roles.service';\nimport { RequestWithUser } from '@/interfaces/auth.interface';\nimport { formatResultData } from './../utils/formatResult';\n\nclass RolesController {\n  public roleService = new roleService();\n\n  public getRoles = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const findAllRolesData: Role[] = await this.roleService.findAllRole();\n      res.status(200).json(formatResultData(findAllRolesData));\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public getRoleById = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const roleId = req.params.roleId;\n      const findOneRoleData: Role = await this.roleService.findRoleById(roleId);\n\n      res.status(200).json(formatResultData(findOneRoleData));\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public createRole = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const roleData: CreateRoleDto = req.body;\n      const createRoleData: Role = await this.roleService.createRole(roleData);\n      res.status(201).json(formatResultData(createRoleData));\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public updateRole = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const roleId = Number(req.params.id);\n      const roleData: CreateRoleDto = req.body;\n      const updateRoleData: Role = await this.roleService.updateRole(roleId, roleData);\n      res.status(200).json(formatResultData(updateRoleData));\n    } catch (error) {\n      next(error);\n    }\n  };\n\n  public deleteRole = async (req: Request, res: Response, next: NextFunction) => {\n    try {\n      const roleId = Number(req.params.id);\n      const deleteRoleData: Role = await this.roleService.deleteRole(roleId);\n      res.status(200).json(formatResultData(deleteRoleData));\n    } catch (error) {\n      next(error);\n    }\n  };\n}\n\nexport default RolesController;\n"],"names":["RolesController","roleService","getRoles","req","res","next","findAllRolesData","findAllRole","status","json","formatResultData","error","getRoleById","roleId","params","findOneRoleData","findRoleById","createRole","roleData","body","createRoleData","updateRole","Number","id","updateRoleData","deleteRole","deleteRoleData"],"mappings":"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"}