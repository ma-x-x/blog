{"version":3,"sources":["../../src/models/users.model.ts"],"sourcesContent":["import { Sequelize, DataTypes, Model, Optional, Op } from 'sequelize';\nimport { User } from '@interfaces/users.interface';\n\nexport type UserCreationAttributes = Optional<User, 'id' | 'username' | 'email' | 'password'>;\n\nexport class UserModel extends Model<User, UserCreationAttributes> implements User {\n  public id: number;\n  public username: string;\n  public password: string;\n  public email: string;\n  public nickname: string;\n  public gender: 1 | 2; //性别：1-男 2-女\n  public avatar: string;\n  public mobile: number;\n  public status: 1 | 0; //用户状态：1-正常 0-禁用\n  public deleted: 0 | 1; //逻辑删除标识：0-未删除；1-已删除\n\n  public readonly createdAt!: Date;\n  public readonly updatedAt!: Date;\n}\n\nexport default function (sequelize: Sequelize): typeof UserModel {\n  UserModel.init(\n    {\n      id: {\n        autoIncrement: true,\n        type: DataTypes.INTEGER,\n        primaryKey: true,\n      },\n      nickname: {\n        type: DataTypes.STRING(64),\n      },\n      username: {\n        allowNull: false,\n        type: DataTypes.STRING(45),\n        unique: true,\n      },\n      password: {\n        allowNull: false,\n        type: DataTypes.STRING(255),\n      },\n      email: {\n        allowNull: false,\n        type: DataTypes.STRING(128),\n        unique: true,\n      },\n      gender: {\n        type: DataTypes.INTEGER,\n      },\n      avatar: {\n        type: DataTypes.STRING(255),\n      },\n      mobile: {\n        type: DataTypes.INTEGER,\n      },\n      status: {\n        type: DataTypes.INTEGER,\n        defaultValue: 1,\n      },\n      deleted: {\n        type: DataTypes.INTEGER,\n        defaultValue: 0,\n      },\n    },\n    {\n      tableName: 'users',\n      sequelize,\n    },\n  );\n\n  return UserModel;\n}\n"],"names":["UserModel","Model","sequelize","init","id","autoIncrement","type","DataTypes","INTEGER","primaryKey","nickname","STRING","username","allowNull","unique","password","email","gender","avatar","mobile","status","defaultValue","deleted","tableName"],"mappings":"AAAA;;;;;AAA0D,IAAA,UAAW,WAAX,WAAW,CAAA;AAK9D,IAAA,AAAMA,SAAS,GAAf,MAAMA,SAAS,SAASC,UAAK,MAAA;CAcnC;QAdYD,SAAS,GAATA,SAAS;AAgBP,kBAAUE,SAAoB,EAAoB;IAC/DF,SAAS,CAACG,IAAI,CACZ;QACEC,EAAE,EAAE;YACFC,aAAa,EAAE,IAAI;YACnBC,IAAI,EAAEC,UAAS,UAAA,CAACC,OAAO;YACvBC,UAAU,EAAE,IAAI;SACjB;QACDC,QAAQ,EAAE;YACRJ,IAAI,EAAEC,UAAS,UAAA,CAACI,MAAM,CAAC,EAAE,CAAC;SAC3B;QACDC,QAAQ,EAAE;YACRC,SAAS,EAAE,KAAK;YAChBP,IAAI,EAAEC,UAAS,UAAA,CAACI,MAAM,CAAC,EAAE,CAAC;YAC1BG,MAAM,EAAE,IAAI;SACb;QACDC,QAAQ,EAAE;YACRF,SAAS,EAAE,KAAK;YAChBP,IAAI,EAAEC,UAAS,UAAA,CAACI,MAAM,CAAC,GAAG,CAAC;SAC5B;QACDK,KAAK,EAAE;YACLH,SAAS,EAAE,KAAK;YAChBP,IAAI,EAAEC,UAAS,UAAA,CAACI,MAAM,CAAC,GAAG,CAAC;YAC3BG,MAAM,EAAE,IAAI;SACb;QACDG,MAAM,EAAE;YACNX,IAAI,EAAEC,UAAS,UAAA,CAACC,OAAO;SACxB;QACDU,MAAM,EAAE;YACNZ,IAAI,EAAEC,UAAS,UAAA,CAACI,MAAM,CAAC,GAAG,CAAC;SAC5B;QACDQ,MAAM,EAAE;YACNb,IAAI,EAAEC,UAAS,UAAA,CAACC,OAAO;SACxB;QACDY,MAAM,EAAE;YACNd,IAAI,EAAEC,UAAS,UAAA,CAACC,OAAO;YACvBa,YAAY,EAAE,CAAC;SAChB;QACDC,OAAO,EAAE;YACPhB,IAAI,EAAEC,UAAS,UAAA,CAACC,OAAO;YACvBa,YAAY,EAAE,CAAC;SAChB;KACF,EACD;QACEE,SAAS,EAAE,OAAO;QAClBrB,SAAS;KACV,CACF,CAAC;IAEF,OAAOF,SAAS,CAAC;CAClB"}